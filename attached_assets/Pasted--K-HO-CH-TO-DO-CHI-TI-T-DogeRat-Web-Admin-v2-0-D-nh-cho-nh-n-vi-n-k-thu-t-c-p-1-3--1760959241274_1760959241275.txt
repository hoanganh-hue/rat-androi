## ğŸ“‹ Káº¾ HOáº CH TOâ€‘DO CHI TIáº¾T â€“ â€œDogeRat Webâ€‘Admin v2.0â€  
*DÃ nh cho nhÃ¢n viÃªn ká»¹ thuáº­t (cáº¥pâ€¯1â€‘3).  Má»—i má»¥c Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u âœ…â€¯khi hoÃ n thÃ nh, kÃ¨m thá»i gian dá»± kiáº¿n, ngÆ°á»i chá»‹u trÃ¡ch nhiá»‡m vÃ  deliverable cá»¥ thá»ƒ.  Khi toÃ n bá»™ âœ”â€¯Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u, dá»± Ã¡n sáº½ Ä‘áº¡t **100â€¯% hoÃ n thiá»‡n**.*

---

## â… . PHÃP THUáº¬T & Má»¤C TIÃŠU Dá»° ÃN  

| Má»¥c tiÃªu | MÃ´ táº£ ngáº¯n gá»n |
|----------|----------------|
| **Chuyá»ƒn giao** | Thay tháº¿ giao diá»‡n quáº£n trá»‹ dá»±a trÃªn Telegram Bot báº±ng **Webâ€‘Admin** (SPA) cháº¡y trÃªn trÃ¬nh duyá»‡t. |
| **Báº£o máº­t** | Ãp dá»¥ng JWT, RBAC, HTTPS, CORS, Rateâ€‘limit, input validation. |
| **Quáº£n trá»‹ ngÆ°á»i dÃ¹ng** | Táº¡o, phÃ¢n quyá»n, audit log, há»— trá»£ â€œsubâ€‘accountâ€ cho nhÃ¢n viÃªn cáº¥p dÆ°á»›i. |
| **Quáº£n lÃ½ thiáº¿t bá»‹** | Hiá»ƒn thá»‹ danh sÃ¡ch, tráº¡ng thÃ¡i, chi tiáº¿t, vÃ  thá»±c thi má»i lá»‡nh hiá»‡n cÃ³ (contacts, sms, toast, â€¦). |
| **Äá»™ tin cáº­y** | Dockerâ€‘Compose, CI/CD, unit & integration test, healthâ€‘check, logâ€‘monitoring. |
| **TÃ i liá»‡u** | README má»›i, hÆ°á»›ng dáº«n cÃ i Ä‘áº·t, hÆ°á»›ng dáº«n váº­n hÃ nh, diagram kiáº¿n trÃºc. |

---

## â…¡. THá»œI GIAN & Äá»˜I NGÅ¨  

| Giai Ä‘oáº¡n | Thá»i gian dá»± kiáº¿n | ThÃ nh viÃªn | Ghi chÃº |
|----------|-------------------|-----------|--------|
| **A. Khá»Ÿi Ä‘á»™ng** | 2â€¯ngÃ y | PMâ€¯+â€¯Techâ€‘Lead | Äáº·t mÃ´i trÆ°á»ng, táº¡o repo, xÃ¡c Ä‘á»‹nh yÃªu cáº§u. |
| **B. Thiáº¿t káº¿ kiáº¿n trÃºc** | 3â€¯ngÃ y | Architectâ€¯+â€¯DBâ€‘Admin | ERâ€‘diagram, API spec, UI wireframe. |
| **C. Backend refactor** | 8â€¯ngÃ y | 2â€¯Dev (Node) | TÃ¡ch Telegram, xÃ¢y dá»±ng API, DB, Auth. |
| **D. Frontend SPA** | 10â€¯ngÃ y | 2â€¯Dev (Vue/React) | Scaffold, login, dashboard, deviceâ€‘detail. |
| **E. TÃ­ch há»£p Socketâ€‘IO bridge** | 3â€¯ngÃ y | 1â€¯Dev (Node) + 1â€¯Dev (Frontend) | Lá»‡nh thá»i gian thá»±c, heartbeat. |
| **F. Kiá»ƒm thá»­ & Báº£o máº­t** | 5â€¯ngÃ y | QAâ€¯+â€¯Security | Unit, integration, penâ€‘test, lint. |
| **G. Docker & CI/CD** | 4â€¯ngÃ y | DevOps | Dockerfile, compose, GitHub Actions. |
| **H. Triá»ƒn khai & Handover** | 2â€¯ngÃ y | Opsâ€¯+â€¯PM | Deploy prod, doc training. |
| **Tá»•ng** | **â‰ˆâ€¯37â€¯ngÃ y** (~â€¯8â€¯tuáº§n lÃ m viá»‡c) | | |

> **LÆ°u Ã½:** CÃ¡c ngÃ y lÃ  **Ä‘iá»ƒm chuáº©n**; náº¿u cÃ³ phá»¥ thuá»™c (backend â†’ frontend) thÃ¬ tuáº§n tá»± thá»±c hiá»‡n.  

---

## â…¢. ÄIá»‚M CHá»ˆ â€“ CHECKLIST CHI TIáº¾T  

> **CÃº phÃ¡p:** `[ ]` = chÆ°a lÃ m, `[x]` = Ä‘Ã£ xong, `â³` = Ä‘ang thá»±c hiá»‡n.  
> **Deliverable**: táº­p tin/ folder / tÃ i liá»‡u cáº§n ná»™p cho PM.

### A. Chuáº©n bá»‹ mÃ´i trÆ°á»ng (2â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| A1 | Táº¡o **repo** trÃªn GitHub (private). Branch `feature/web-admin`. | PM | URL repo + README táº¡m. |
| A2 | Thiáº¿t láº­p **ci/cd** skeleton (GitHub Actions, badge tráº¡ng thÃ¡i). | DevOps | `.github/workflows/ci.yml`. |
| A3 | Chuáº©n bá»‹ **Docker Desktop** / Docker Engine trÃªn mÃ¡y dev. | All | `docker version` xÃ¡c nháº­n. |
| A4 | Táº¡o file `.env.example` (DB, JWT, PORT, FRONTEND_URL). | Backend Dev | `.env.example`. |
| A5 | CÃ i **PostgreSQL** (hoáº·c MySQL) local, táº¡o DB `dogerat`. | DBâ€‘Admin | DB ready, user/password. |
| A6 | Pull **server.js** gá»‘c, cháº¡y thá»­ `npm install && node server.js`. | Backend Dev | Console â€œserver listening â€¦â€. |

### B. Thiáº¿t káº¿ kiáº¿n trÃºc (3â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| B1 | Váº½ **ERâ€‘diagram** (users, devices, device_logs, commands, audit_trail). | Architect | `docs/ER-diagram.png`. |
| B2 | Äá»‹nh nghÄ©a **API spec** (OpenAPI 3.0) cho auth, devices, commands, audit. | Backend Dev | `docs/api-spec.yaml`. |
| B3 | Thiáº¿t káº¿ **UI wireframe** (Dashboard, Device List, Device Detail, User Management). | UI/UX Designer | `docs/wireframes.pdf`. |
| B4 | XÃ¡c Ä‘á»‹nh **Roles & Permissions** (Admin, Manager, Operator, Viewer). | Architect | `docs/rbac-matrix.xlsx`. |
| B5 | ÄÃ¡nh giÃ¡ **cÃ¡c tÃ­nh nÄƒng cáº§n giá»¯ láº¡i** (cÃ¡c ACTIONS trong server.js) vÃ  **cÃ¡c tÃ­nh nÄƒng premium** (Ä‘Ã¡nh dáº¥u). | PM | `docs/features.md`. |
| B6 | PhÃª duyá»‡t **architecture diagram** (Server â†” DB â†” Webâ€‘Admin â†” Android clients). | All | `docs/architecture.png`. |

### C. Refactor Backend (8â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| C1 | **TÃ¡ch Telegram Bot**: di chuyá»ƒn `TelegramBot` vÃ o `services/telegramBot.js` (Ä‘á»ƒ legacy, khÃ´ng khá»Ÿi cháº¡y). | Backend Dev | `services/telegramBot.js` (commented). |
| C2 | **XÃ¢y dá»±ng Express API**: `src/routes/api/*.js` (auth, devices, commands, audit). | Backend Dev | `src/routes/api/*.js`. |
| C3 | **Káº¿t ná»‘i DB**: cÃ i Sequelize/TypeORM, táº¡o models (User, Device, DeviceLog, Command, Audit). | DBâ€‘Admin | `src/models/*.js`. |
| C4 | **Migrations**: script táº¡o báº£ng, seed admin user. | DBâ€‘Admin | `migrations/*.js`. |
| C5 | **Authentication**: `passport-jwt` + `bcrypt`. Middleware `authorize(roles)`. | Backend Dev | `src/middlewares/auth.js`, `src/middlewares/authorize.js`. |
| C6 | **CORS & Security**: `helmet`, `cors({origin: process.env.FRONTEND_URL})`, `rate-limit`. | Backend Dev | `src/middlewares/security.js`. |
| C7 | **Logging**: `winston` + `morgan`. Log file `logs/server.log`. | Backend Dev | `src/utils/logger.js`. |
| C8 | **Socketâ€‘IO bridge**: táº¡o `services/socketBridge.js` (emitCommand). | Backend Dev | `services/socketBridge.js`. |
| C9 | **Device connection handling**: cáº­p nháº­t DB `devices` khi `socket.connect`/`disconnect`, heartbeat. | Backend Dev | `src/socket.js`. |
| C10 | **Persist incoming data** (contacts, sms, etc.) vÃ o báº£ng `device_logs`. | Backend Dev | `src/events/deviceDataHandler.js`. |
| C11 | **Remove Telegram references** trong `server.js` â†’ chá»‰ export `app`, `server`, `io`. | Backend Dev | `src/index.js`. |
| C12 | **Unit tests** (Jest) cho API, auth, DB models. | QA | `tests/**/*.test.js`. |
| C13 | **Document API**: tÃ­ch há»£p Swagger UI (`/api-docs`). | Backend Dev | `src/swagger.js`. |
| **Káº¿t quáº£** | **Dockerfile** cho backend (Nodeâ€‘alpine) | DevOps | `Dockerfile` (backend). |

### D. XÃ¢y dá»±ng Frontend SPA (10â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| D1 | Scaffold dá»± Ã¡n **Vite + Vue3 (hoáº·c React)**, cÃ i **TailwindCSS**. | Frontend Dev | `admin/` repo, `package.json`. |
| D2 | Thiáº¿t káº¿ **Login page** â†’ gá»i `/api/auth/login`, lÆ°u JWT trong **HttpOnly cookie** hoáº·c **localStorage**. | Frontend Dev | `src/pages/Login.vue`. |
| D3 | **Route Guard** dá»±a trÃªn role (admin, manager, â€¦). | Frontend Dev | `router/index.js`. |
| D4 | **Dashboard**: sá»‘ lÆ°á»£ng device, biá»ƒu Ä‘á»“ online/offline (Chart.js). | Frontend Dev | `src/pages/Dashboard.vue`. |
| D5 | **Device List**: table (DataTables) â€“ filter, search, select (single / all). | Frontend Dev | `src/pages/Devices.vue`. |
| D6 | **Device Detail**: hiá»ƒn thá»‹ thÃ´ng tin, cÃ¡c **action buttons** (contacts, toast, sms, â€¦). Má»—i action má»Ÿ **modal** Ä‘á»ƒ nháº­p dá»¯ liá»‡u (text, file). | Frontend Dev | `src/pages/DeviceDetail.vue`. |
| D7 | **User Management** (admin only): CRUD users, assign role. | Frontend Dev | `src/pages/Users.vue`. |
| D8 | **Audit Log** page â€“ table, filter by user/date. | Frontend Dev | `src/pages/Audit.vue`. |
| D9 | **API wrapper** (`src/services/api.js`) â€“ axios, tá»± thÃªm `Authorization: Bearer <token>` vÃ  xá»­ lÃ½ lá»—i 401 â†’ logout. | Frontend Dev | `src/services/api.js`. |
| D10 | **Socketâ€‘IO client**: káº¿t ná»‘i tá»›i server, nháº­n **realâ€‘time notifications** (new device, device disconnect, command result). | Frontend Dev | `src/plugins/socket.js`. |
| D11 | **Responsive UI** â€“ kiá»ƒm tra trÃªn desktop, tablet, mobile. | Frontend Dev | CSS media queries. |
| D12 | **Unit / component tests** (Vitest + Vue Testing Library). | QA | `tests/unit/**/*.spec.js`. |
| D13 | **Build script** â€“ `npm run build` táº¡o `/dist`. | Frontend Dev | `dist/`. |
| **Káº¿t quáº£** | **Dockerfile** cho frontend (nginx static). | DevOps | `Dockerfile` (frontend). |

### E. TÃ­ch há»£p Socketâ€‘IO Bridge (3â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| E1 | CÃ i `socket.io-client` trong SPA, thiáº¿t láº­p **event listeners** (`device-connected`, `device-disconnected`, `command-response`). | Frontend Dev | `socket.js`. |
| E2 | Kiá»ƒm tra **Ä‘á»™ trá»…**: gá»­i lá»‡nh tá»« UI â†’ API â†’ `socketBridge.emitCommand` â†’ thiáº¿t bá»‹ â†’ pháº£n há»“i â†’ UI cáº­p nháº­t. | Backend + Frontend | Demo video (Ä‘á»™ trá»… <â€¯1â€¯s). |
| E3 | Äáº£m báº£o **heartbeat** (server â†’ client ping 5â€¯s) Ä‘á»ƒ cáº­p nháº­t tráº¡ng thÃ¡i `online/offline`. | Backend Dev | `socket.js` + `socketBridge`. |
| E4 | Ghi log **command history** vÃ o báº£ng `commands` vÃ  hiá»ƒn thá»‹ trong UI (tab â€œHistoryâ€). | Backend Dev | API `/api/commands/:id/status`. |
| E5 | Test **broadcast** (`All`) vÃ  **targeted** (`deviceId`). | QA | Test case checklist. |

### F. Kiá»ƒm thá»­ & Báº£o máº­t (5â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| F1 | **Unit tests** (backend + frontend) â€“ coverage â‰¥â€¯80â€¯%. | QA | `coverage/` report. |
| F2 | **Integration tests**: Ä‘Äƒng nháº­p â†’ láº¥y danh sÃ¡ch device â†’ gá»­i lá»‡nh â†’ nháº­n pháº£n há»“i (using supertest & socket.ioâ€‘client). | QA | `tests/integration/*.test.js`. |
| F3 | **Penâ€‘test**: OWASP ZAP scan toÃ n bá»™ API + UI. | Security Team | `security/report-zap.pdf`. |
| F4 | **Static analysis**: ESLint, Prettier, SonarQube (optional). | DevOps | Lint pass. |
| F5 | **Performance test**: 100 concurrent devices (mock sockets) â†’ Ä‘o latency, CPU, RAM. | DevOps | Grafana dashboard (optional). |
| F6 | **Bugâ€‘fix sprint**: sá»­a má»i lá»—i/ cáº£nh bÃ¡o Ä‘Æ°á»£c bÃ¡o cÃ¡o. | All | Updated code. |
| F7 | **Security hardening**: cáº­p nháº­t `helmet` options, CORS whitelist, JWT expiry (1â€¯h) + refresh token. | Backend Dev | Config file. |
| F8 | **Final QA signâ€‘off**: checklist Ä‘Ã£ âœ…, bÃ¡o cÃ¡o QA. | PM | `QAâ€‘Signoff.pdf`. |

### G. Docker, CI/CD & Deploy (4â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| G1 | **Dockerfile â€“ Backend** (nodeâ€‘alpine, copy src, run migrations, expose 3000). | DevOps | `backend/Dockerfile`. |
| G2 | **Dockerfile â€“ Frontend** (nginx + static files). | DevOps | `frontend/Dockerfile`. |
| G3 | **dockerâ€‘compose.yml**: services `db`, `server`, `admin`, `nginxâ€‘reverseâ€‘proxy` (optional). | DevOps | `docker-compose.yml`. |
| G4 | **GitHub Actions**: build images, run tests, push to Docker Hub, deploy to staging. | DevOps | `.github/workflows/ci.yml`. |
| G5 | **Staging deployment** (Docker Swarm / simple compose). Validate UI, API, socket. | Ops | URL staging (`staging.myâ€‘dogerat.com`). |
| G6 | **Production rollout**: cháº¡y `docker stack deploy` hoáº·c `docker compose -f prod.yml up -d`. | Ops | URL prod (`admin.myâ€‘dogerat.com`). |
| G7 | **Monitoring**: set up Prometheus + Grafana (optional) hoáº·c dÃ¹ng `docker stats`. | Ops | Dashboard link. |
| G8 | **Backup**: script `pg_dump` nightly, lÆ°u trÃªn S3/Cloud. | DBâ€‘Admin | `backup.sh`. |
| G9 | **Rollback plan**: giá»¯ version image `v2.0`, `v1.9` Ä‘á»ƒ `docker pull <tag>` khi cáº§n. | Ops | Document `rollback.md`. |

### H. Triá»ƒn khai cuá»‘i & BÃ n giao (2â€¯ngÃ y)

| # | Nhiá»‡m vá»¥ | TrÃ¡ch nhiá»‡m | Deliverable |
|---|----------|-------------|--------------|
| H1 | **Kiá»ƒm tra cuá»‘i**: smoke test toÃ n bá»™ flow (login â†’ device list â†’ lá»‡nh â†’ audit). | PM + QA | Test checklist kÃ½. |
| H2 | **ÄÃ o táº¡o**: buá»•i truyá»n Ä‘áº¡t cho Ä‘á»™i há»— trá»£ (30â€¯phÃºt) â€“ demo UI, quy trÃ¬nh táº¡o user, xem log. | PM | Slide `handover.pptx`. |
| H3 | **Giao tÃ i liá»‡u**:  
- README má»›i (Ä‘Ã£ viáº¿t).  
- Kiáº¿n trÃºc diagram.  
- API spec.  
- DB schema.  
- HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Docker. | PM | `docs/` folder. |
| H4 | **Báº£o trÃ¬**: lÃªn lá»‹ch â€œmaintenance windowâ€ (weekly) Ä‘á»ƒ cáº­p nháº­t dependency, renew SSL. | Ops | Calendar entry. |
| H5 | **KÃ½ nghiá»‡m thu**: biÃªn báº£n nghiá»‡m thu (100â€¯% hoÃ n thÃ nh). | PM | `Acceptanceâ€‘Report.pdf`. |

---

## â…£. KHUÃ”N MÃƒ & TÃŠN FILE QUAN TRá»ŒNG

| ThÆ° má»¥c | MÃ´ táº£ | VÃ­ dá»¥ |
|---------|------|-------|
| `server/` | Backend source | `src/index.js`, `src/routes/api/devices.js` |
| `admin/` | Frontend SPA | `src/pages/Dashboard.vue` |
| `docs/` | TÃ i liá»‡u dá»± Ã¡n | `ER-diagram.png`, `api-spec.yaml`, `architecture.png` |
| `tests/` | Unit & integration tests | `backend/tests/auth.test.js` |
| `docker/` | Dockerfiles & compose | `backend/Dockerfile`, `frontend/Dockerfile`, `docker-compose.yml` |
| `scripts/` | Migration, backup | `scripts/migrate.js`, `scripts/backup.sh` |

---

## â…¤. DÃ²ng thá»i gian TÃ³m táº¯t (Ganttâ€‘like)

```
NgÃ y 1â€‘2   : A â€“ Khá»Ÿi Ä‘á»™ng
NgÃ y 3â€‘5   : B â€“ Thiáº¿t káº¿
NgÃ y 6â€‘13  : C â€“ Backend refactor
NgÃ y 14â€‘23 : D â€“ Frontend SPA
NgÃ y 24â€‘26 : E â€“ Socketâ€‘IO bridge
NgÃ y 27â€‘31 : F â€“ Kiá»ƒm thá»­ & Báº£o máº­t
NgÃ y 32â€‘35 : G â€“ Docker & CI/CD
NgÃ y 36â€‘37 : H â€“ Triá»ƒn khai & BÃ n giao
```

*CÃ¡c ngÃ y cÃ³ thá»ƒ kÃ©o dÃ i/ rÃºt tÃ¹y theo tá»‘c Ä‘á»™ Ä‘á»™i, nhÆ°ng cÃ¡c **phá»¥ thuá»™c** (backend â†’ frontend) cáº§n Ä‘Æ°á»£c giá»¯ tuáº§n tá»±.*

---

## â…¥. Kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng (Definition of Done)

| ThÃ nh pháº§n | Äiá»u kiá»‡n â€œDoneâ€ |
|------------|-----------------|
| **Backend** | API Ä‘Ã¡p á»©ng spec, unit test â‰¥â€¯80â€¯%, JWT & RBAC hoáº¡t Ä‘á»™ng, Docker image builds thÃ nh cÃ´ng. |
| **Frontend** | UI hiá»ƒn thá»‹ Ä‘Ãºng wireframe, login/auth, device list, command execution, responsive, build thÃ nh cÃ´ng. |
| **Security** | No critical vulnerabilities (OWASP Topâ€¯10), HTTPS, CORS, rateâ€‘limit, JWT expiry. |
| **Docs** | README, API spec, architecture diagram, deployment guide, user manual. |
| **Deployment** | Dockerâ€‘Compose up on Staging â†’ all healthâ€‘checks pass, smoke test 100â€¯% thÃ nh cÃ´ng. |
| **Signâ€‘off** | QA signâ€‘off, PM acceptance, handover to ops. |

Khi **táº¥t cáº£** cÃ¡c má»¥c á»Ÿ báº£ng trÃªn Ä‘á»u âœ… â†’ Dá»± Ã¡n Ä‘Æ°á»£c xem lÃ  **100â€¯% hoÃ n thiá»‡n**.

---

## â…¦. GHI CHÃš CUá»I CÃ™NG  

- **Tiáº¿p tá»¥c cáº­p nháº­t**: Má»—i commit nÃªn chá»©a tiÃªu Ä‘á» ngáº¯n gá»n (`[Backend] Add JWT middleware`) vÃ  liÃªn káº¿t tá»›i issue trÃªn GitHub.  
- **Communication**: Sá»­ dá»¥ng kÃªnh Slack/Discord â€œ#dogeratâ€‘projectâ€ Ä‘á»ƒ bÃ¡o cÃ¡o tiáº¿n Ä‘á»™ háº±ng ngÃ y (Standâ€‘up) vÃ  ghi láº¡i blockers.  
- **Risk Management**: Náº¿u Telegram Bot váº«n cáº§n dÃ¹ng táº¡m thá»i, chá»‰ **keep** file `services/telegramBot.js` vÃ  **disable** khá»Ÿi cháº¡y báº±ng biáº¿n mÃ´i trÆ°á»ng `DISABLE_TELEGRAM=true`.  

---  

**ChÃºc Ä‘á»™i ngÅ© triá»ƒn khai thÃ nh cÃ´ng vÃ  dá»± Ã¡n Ä‘áº¡t má»¥c tiÃªu â€œWebâ€‘Admin Ä‘áº§y Ä‘á»§, an toÃ n, chuyÃªn nghiá»‡pâ€.** ğŸš€